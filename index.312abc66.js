function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequired7c6=a);var r=a("04jNI"),o=a("2shzp"),s=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],l=a("krGWQ"),c=a("czlJg");a("czlJg");function d(e,t){return t.map((t=>e.find((e=>e.id===t)).name)).reduce(((e,t,n,i)=>i.length>2?`${i[0]}, ${i[1]}, Other`:i.join(", ")),"")}o=a("2shzp"),a("czlJg"),c=a("czlJg");var u=a("1mAvE");async function f(e,t){const{data:n}=await o.default.get(`/search/movie?api_key=${c.KEY_API}&query=${e}&page=${t}&language=en-US`);return v(n.page,n.total_pages),n.results}function p(e,t){const n=e.map((e=>{const{id:t,poster_path:n,original_title:i,release_date:a,genre_ids:r,vote_average:o}=e,l=d(s,r);return`<li class="frame" data-id="${t}">\n         <div class="frame__wrap">\n            <p class="frame__raiting">${o.toFixed(1)?o.toFixed(1):"---"}</p>\n           <button type="button" aria-label="watch the trailer" class="watch-trailer-btn-gallery is-hidden" data-id=${t} >Watch the trailer</button>\n          <img\n            data-id="${t}"\n            src="${n?c.IMAGE_URL+n:"https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-"}"\n            alt="${i||"Title coming soon"}"\n            class="frame__poster"\n            loading="lazy"\n          />\n            </div>\n          <div class="frame__info " data-id=${t}>\n            <p class="frame__title" data-id=${t}>${i||"Title coming soon"}</p>\n            <p class="frame__genres" data-id=${t}>${l||"---"}</p>\n            <p class="frame__year" data-id=${t}>${new Date(a).getFullYear()?new Date(a).getFullYear():"---"}</p>\n         \n          </div>\n          </li>`})).join("");t.insertAdjacentHTML("beforeend",n);document.querySelectorAll(".watch-trailer-btn-gallery").forEach((e=>{(0,u.renderTrailerBtn)(e.dataset.id,e)}))}o.default.defaults.baseURL="https://api.themoviedb.org/3";l=a("krGWQ"),u=a("1mAvE");const g=document.querySelector(".pagination-library-container");g.addEventListener("click",(function(e){const t=e.target.textContent,n=l.refs.formSearch.searchQuery.value,i=JSON.stringify(n);if(localStorage.setItem("searchValue",i),"LI"!==e.target.nodeName)return;if("Next >"===e.target.textContent)return n?void f(n,m+=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(y).join(""),(0,u.renderBtn)()})):void h(m+=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(y).join(""),(0,u.renderBtn)()}));if("< Previous"===e.target.textContent)return n?void f(n,m-=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(y).join(""),(0,u.renderBtn)()})):void h(m-=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(y).join(""),(0,u.renderBtn)()}));if("..."===e.target.textContent)return;if(n)return void f(n,t).then((e=>{l.refs.galleryMovies.innerHTML=e.map(y).join(""),(0,u.renderBtn)()}));h(t).then((e=>{l.refs.galleryMovies.innerHTML=e.map(y).join(""),(0,u.renderBtn)()}))}));let m=0;function v(e,t){let n="",i=e-2,a=e-1,r=e+1,o=e+2;m=e;const s=JSON.stringify(e);localStorage.setItem("page",s),e>1&&(n+='<li class="pagination-button-arrow-left">< Previous</li>'),e>1&&(n+='<li class="pagination-button">1</li>'),e>4&&(n+='<li class="pagination-button">...</li>'),e>3&&(n+=`<li class="pagination-button">${i}</li>`),e>2&&(n+=`<li class="pagination-button">${a}</li>`),n+=`<li class="pagination-button"><b class = "pagination--current">${e}</b></li>`,t-1>e&&(n+=`<li class="pagination-button">${r}</li>`),t-2>e&&(n+=`<li class="pagination-button">${o}</li>`),t-3>e&&(n+='<li class="dots">...</li>'),t>e&&(n+=`<li class="pagination-button">${t}</li>`,n+='<li class="pagination-button-arrow">Next ></li>'),g.innerHTML=n}u=a("1mAvE");async function h(e){try{const{data:t}=await o.default.get(`/trending/movie/day?api_key=${c.KEY_API}&page=${e}`);return v(t.page,t.total_pages),t.results}catch(e){console.log("Something wrong with API",e.message)}}function y({id:e,title:t,poster_path:n,genre_ids:i,release_date:a,vote_average:r}){const o=d(s,i);return`<li class="frame" data-id="${e}">\n         <div class="frame__wrap">\n            <p class="frame__raiting">${r.toFixed(1)?r.toFixed(1):"---"}</p>\n           <button type="button" aria-label="watch the trailer" class="watch-trailer-btn-gallery is-hidden" data-id=${e} >Watch the trailer</button>\n          <img\n            data-id="${e}"\n            src="${n?c.IMAGE_URL+n:"https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-"}"\n            alt="${t||"Title coming soon"}"\n            class="frame__poster"\n            loading="lazy"\n          />\n            </div>\n          <div class="frame__info" data-id=${e}>\n            <p class="frame__title" data-id=${e}>${t||"Title coming soon"}</p>\n            <p class="frame__genres" data-id=${e}>${o||"---"}</p>\n            <p class="frame__year" data-id=${e}>${new Date(a).getFullYear()?new Date(a).getFullYear():"---"}</p>\n         \n          </div>\n          </li>`}o.default.defaults.baseURL="https://api.themoviedb.org/3",async function(){try{let e=await h(1);e=e.filter((e=>!1===e.adult));const t=[...e].map(y).join("");l.refs.galleryMovies.insertAdjacentHTML("beforeend",t),(0,u.renderBtn)()}catch(e){console.log("Something wrong with API",e.message)}}(),a("ie2oG");l=a("krGWQ");r=a("04jNI");function _(){l.refs.notification.textContent="Search result not successful. Enter the correct movie name and try again."}l.refs.formSearch&&l.refs.formSearch.addEventListener("submit",(async function(e){e.preventDefault(),(0,r.spinnerPlay)(),l.refs.notification.textContent="";const t=e.target.elements.searchQuery.value.trim().toLowerCase();if(t){const e=JSON.stringify(t);localStorage.setItem("searchValue",e);const n=JSON.stringify(1);localStorage.setItem("page",n);try{const e=await f(t,1);e.length?(l.refs.galleryMovies.innerHTML="",p(e,l.refs.galleryMovies)):_()}catch(e){_()}}else _();(0,r.spinnerStop)()})),a("l05VH"),a("b3pyI");var b=a("h53OD"),w=(l=a("krGWQ"),{});w=function(){function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function t(n,i){function a(t,a,r){if("undefined"!=typeof document){"number"==typeof(r=e({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in r)r[s]&&(o+="; "+s,!0!==r[s]&&(o+="="+r[s].split(";")[0]));return document.cookie=t+"="+n.write(a,t)+o}}function r(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},a=0;a<t.length;a++){var r=t[a].split("="),o=r.slice(1).join("=");try{var s=decodeURIComponent(r[0]);if(i[s]=n.read(o,s),e===s)break}catch(e){}}return e?i[e]:i}}return Object.create({set:a,get:r,remove:function(t,n){a(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}return t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}();const k=new Date((new Date).getTime()+9e5);!function(){if(!e(w).get("cookie")){document.querySelector("body").insertAdjacentHTML("beforeend",'<div class="cookies js-cookies">\n  <div class="cookies__header">\n    <h3 class="cookies__title">Cookies Policy</h3>\n  </div>\n  <div class="cookies__body">\n    <p class="cookies__text">\n      We use cookies to enhance your browsing experience and analyze our traffic.\n      <a class="cookies__link" href="https://en.wikipedia.org/wiki/HTTP_cookie" target="_blank" title="Wikipedia with meaning HTTP cookie">Privacy Policy</a>\n    </p>\n    <button aria-label="Accept" type="button" class="cookies__btn js-cookies-accept">Accept!</button>\n  </div>\n</div>');const t=document.querySelector(".js-cookies"),n=document.querySelector(".js-cookies-accept");setTimeout((()=>t.classList.add("is-shown")),1e3),n.addEventListener("click",(function(n){t.classList.remove("is-shown"),setTimeout((()=>t.remove()),1e3),e(w).set("cookie",!0,{expires:k})}))}}();u=a("1mAvE");(0,r.spinnerPlay)(),window.addEventListener("load",(function(e){(0,r.spinnerStop)()})),window.addEventListener("scroll",b.scrollFunction),l.refs.galleryMovies.addEventListener("click",u.onCli—ÅkBtnWatchGallery);
//# sourceMappingURL=index.312abc66.js.map
